{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/wajari/dev/blog-next/pages/_app.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) {\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  return function () {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nimport App, { Container } from \"next/app\";\nimport Head from \"next/head\";\nimport { NextSeo } from \"next-seo\";\nimport Navigation from \"../components/Navigation\";\nimport { createSEOConfig } from \"../utils/seo\";\nimport getPostData from \"../utils/get-post-data\";\nimport BlogEngine from \"../utils/blog-engine\";\nimport { renderLayout } from \"../utils/render-app-layout\";\nimport Footer from \"../components/Footer\";\nimport { checkForSW } from \"../utils/check-for-sw\";\nimport { FaBars } from \"react-icons/fa\";\nimport { globalStyles } from \"../styles\";\n\nvar MyApp = /*#__PURE__*/function (_App) {\n  _inherits(MyApp, _App);\n\n  var _super = _createSuper(MyApp);\n\n  function MyApp(props) {\n    var _this;\n\n    _classCallCheck(this, MyApp);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleToggleNavigation\", function () {\n      _this.setState({\n        navOpen: !_this.state.navOpen\n      });\n    });\n\n    _this.state = {\n      navOpen: false,\n      postData: props.postData\n    };\n    return _this;\n  }\n\n  _createClass(MyApp, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return checkForSW();\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(prevProps, prevState) {\n        var postData;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return getPostData(this.props.router);\n\n              case 2:\n                postData = _context2.sent;\n\n                if (!prevState.postData || postData.name !== this.state.postData.name) {\n                  this.setState({\n                    postData: postData\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidUpdate(_x, _x2) {\n        return _componentDidUpdate.apply(this, arguments);\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var postData = this.state.postData;\n      var seoData = createSEOConfig(postData);\n\n      if (postData) {\n        var tagsString = postData.tags.join(\", \");\n        return __jsx(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 9\n          }\n        }, __jsx(Head, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }\n        }, __jsx(\"meta\", {\n          name: \"keywords\",\n          content: tagsString,\n          className: \"jsx-2177872622\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }\n        })), __jsx(NextSeo, {\n          config: seoData,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }\n        }), __jsx(Navigation, {\n          open: this.state.navOpen,\n          toggleNavigation: this.handleToggleNavigation,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }\n        }), __jsx(\"button\", {\n          type: \"button\",\n          role: \"button\",\n          \"aria-label\": \"open navigation\",\n          onClick: this.handleToggleNavigation,\n          className: \"jsx-2177872622\" + \" \" + \"icon-button hamburger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 11\n          }\n        }, __jsx(FaBars, {\n          size: 20,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }\n        })), __jsx(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }\n        }, renderLayout(this.props, this.state)), __jsx(Footer, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 11\n          }\n        }), __jsx(_JSXStyle, {\n          id: globalStyles.__hash,\n          __self: this\n        }, globalStyles), __jsx(_JSXStyle, {\n          id: \"2177872622\",\n          __self: this\n        }, \".icon-button.jsx-2177872622{margin:15px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3dhamFyaS9kZXYvYmxvZy1uZXh0L3BhZ2VzL19hcHAuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0dzQixBQUcyQixZQUNkIiwiZmlsZSI6Ii9ob21lL3dhamFyaS9kZXYvYmxvZy1uZXh0L3BhZ2VzL19hcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQXBwLCB7IENvbnRhaW5lciB9IGZyb20gXCJuZXh0L2FwcFwiO1xuaW1wb3J0IEhlYWQgZnJvbSBcIm5leHQvaGVhZFwiO1xuaW1wb3J0IHsgTmV4dFNlbyB9IGZyb20gXCJuZXh0LXNlb1wiO1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvTmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgY3JlYXRlU0VPQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL3Nlb1wiO1xuaW1wb3J0IGdldFBvc3REYXRhIGZyb20gXCIuLi91dGlscy9nZXQtcG9zdC1kYXRhXCI7XG5pbXBvcnQgQmxvZ0VuZ2luZSBmcm9tIFwiLi4vdXRpbHMvYmxvZy1lbmdpbmVcIjtcbmltcG9ydCB7IHJlbmRlckxheW91dCB9IGZyb20gXCIuLi91dGlscy9yZW5kZXItYXBwLWxheW91dFwiO1xuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb290ZXJcIjtcbmltcG9ydCB7IGNoZWNrRm9yU1cgfSBmcm9tIFwiLi4vdXRpbHMvY2hlY2stZm9yLXN3XCI7XG5pbXBvcnQgeyBGYUJhcnMgfSBmcm9tIFwicmVhY3QtaWNvbnMvZmFcIjtcbmltcG9ydCB7IGdsb2JhbFN0eWxlcyB9IGZyb20gXCIuLi9zdHlsZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlBcHAgZXh0ZW5kcyBBcHAge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBuYXZPcGVuOiBmYWxzZSwgcG9zdERhdGE6IHByb3BzLnBvc3REYXRhIH07XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgQ29tcG9uZW50LCByb3V0ZXIsIGN0eCB9KSB7XG4gICAgbGV0IHBhZ2VQcm9wcyA9IHt9O1xuXG4gICAgaWYgKENvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMpIHtcbiAgICAgIHBhZ2VQcm9wcyA9IGF3YWl0IENvbXBvbmVudC5nZXRJbml0aWFsUHJvcHMoY3R4KTtcbiAgICB9XG5cbiAgICBjb25zdCBbYWxsRGF0YSwgcG9zdERhdGFdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgQmxvZ0VuZ2luZSgpLFxuICAgICAgZ2V0UG9zdERhdGEocm91dGVyKVxuICAgIF0pLmNhdGNoKGVycm9yID0+XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gX2FwcC5qcyBnZXRJbml0aWFsUHJvcHMoKVwiLCBlcnJvcilcbiAgICApO1xuXG4gICAgY29uc3QgcHJvcHNPYmogPSBPYmplY3QuYXNzaWduKHt9LCB7IHBvc3REYXRhLCBhbGxEYXRhLCAuLi5wYWdlUHJvcHMgfSk7XG5cbiAgICByZXR1cm4geyAuLi5wcm9wc09iaiB9O1xuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgYXdhaXQgY2hlY2tGb3JTVygpO1xuICB9XG5cbiAgYXN5bmMgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgY29uc3QgcG9zdERhdGEgPSBhd2FpdCBnZXRQb3N0RGF0YSh0aGlzLnByb3BzLnJvdXRlcik7XG4gICAgaWYgKCFwcmV2U3RhdGUucG9zdERhdGEgfHwgcG9zdERhdGEubmFtZSAhPT0gdGhpcy5zdGF0ZS5wb3N0RGF0YS5uYW1lKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgcG9zdERhdGEgfSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlVG9nZ2xlTmF2aWdhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG5hdk9wZW46ICF0aGlzLnN0YXRlLm5hdk9wZW5cbiAgICB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwb3N0RGF0YSB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGNvbnN0IHNlb0RhdGEgPSBjcmVhdGVTRU9Db25maWcocG9zdERhdGEpO1xuICAgIGlmIChwb3N0RGF0YSkge1xuICAgICAgY29uc3QgdGFnc1N0cmluZyA9IHBvc3REYXRhLnRhZ3Muam9pbihcIiwgXCIpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIHsvKiAoMSkgU0VPICAqL31cbiAgICAgICAgICA8SGVhZD5cbiAgICAgICAgICAgIDxtZXRhIG5hbWU9XCJrZXl3b3Jkc1wiIGNvbnRlbnQ9e3RhZ3NTdHJpbmd9IC8+XG4gICAgICAgICAgPC9IZWFkPlxuICAgICAgICAgIDxOZXh0U2VvIGNvbmZpZz17c2VvRGF0YX0gLz5cblxuICAgICAgICAgIHsvKiAoMikgbmF2aWdhdGlvbiAqL31cbiAgICAgICAgICA8TmF2aWdhdGlvblxuICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5uYXZPcGVufVxuICAgICAgICAgICAgdG9nZ2xlTmF2aWdhdGlvbj17dGhpcy5oYW5kbGVUb2dnbGVOYXZpZ2F0aW9ufVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJvcGVuIG5hdmlnYXRpb25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiaWNvbi1idXR0b24gaGFtYnVyZ2VyXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuaGFuZGxlVG9nZ2xlTmF2aWdhdGlvbn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RmFCYXJzIHNpemU9ezIwfSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgey8qICgzKSBwYWdlIGJvZHkgKi99XG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAge3JlbmRlckxheW91dCh0aGlzLnByb3BzLCB0aGlzLnN0YXRlKX1cbiAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuXG4gICAgICAgICAgey8qICg0KSBmb290ZXIgKi99XG4gICAgICAgICAgPEZvb3RlciAvPlxuXG4gICAgICAgICAgey8qICg1KSBnbG9iYWwgYW5kIGxvY2FsIHN0eWxlcyAqL31cbiAgICAgICAgICA8c3R5bGUgZ2xvYmFsIGpzeD5cbiAgICAgICAgICAgIHtnbG9iYWxTdHlsZXN9XG4gICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAuaWNvbi1idXR0b24ge1xuICAgICAgICAgICAgICBtYXJnaW46IDE1cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG59XG4iXX0= */\\n/*@ sourceURL=/home/wajari/dev/blog-next/pages/_app.js */\"));\n      } else {\n        return null;\n      }\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref) {\n        var Component, router, ctx, pageProps, _ref2, _ref3, allData, postData, propsObj;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                Component = _ref.Component, router = _ref.router, ctx = _ref.ctx;\n                pageProps = {};\n\n                if (!Component.getInitialProps) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                _context3.next = 5;\n                return Component.getInitialProps(ctx);\n\n              case 5:\n                pageProps = _context3.sent;\n\n              case 6:\n                _context3.next = 8;\n                return Promise.all([BlogEngine(), getPostData(router)]).catch(function (error) {\n                  return console.error(\"Error in _app.js getInitialProps()\", error);\n                });\n\n              case 8:\n                _ref2 = _context3.sent;\n                _ref3 = _slicedToArray(_ref2, 2);\n                allData = _ref3[0];\n                postData = _ref3[1];\n                propsObj = Object.assign({}, _objectSpread({\n                  postData: postData,\n                  allData: allData\n                }, pageProps));\n                return _context3.abrupt(\"return\", _objectSpread({}, propsObj));\n\n              case 14:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function getInitialProps(_x3) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return MyApp;\n}(App);\n\nexport { MyApp as default };","map":{"version":3,"sources":["/home/wajari/dev/blog-next/pages/_app.js"],"names":["App","Container","Head","NextSeo","Navigation","createSEOConfig","getPostData","BlogEngine","renderLayout","Footer","checkForSW","FaBars","globalStyles","MyApp","props","setState","navOpen","state","postData","prevProps","prevState","router","name","seoData","tagsString","tags","join","handleToggleNavigation","Component","ctx","pageProps","getInitialProps","Promise","all","catch","error","console","allData","propsObj","Object","assign"],"mappings":"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","sourcesContent":["import App, { Container } from \"next/app\";\nimport Head from \"next/head\";\nimport { NextSeo } from \"next-seo\";\nimport Navigation from \"../components/Navigation\";\nimport { createSEOConfig } from \"../utils/seo\";\nimport getPostData from \"../utils/get-post-data\";\nimport BlogEngine from \"../utils/blog-engine\";\nimport { renderLayout } from \"../utils/render-app-layout\";\nimport Footer from \"../components/Footer\";\nimport { checkForSW } from \"../utils/check-for-sw\";\nimport { FaBars } from \"react-icons/fa\";\nimport { globalStyles } from \"../styles\";\n\nexport default class MyApp extends App {\n  constructor(props) {\n    super(props);\n    this.state = { navOpen: false, postData: props.postData };\n  }\n\n  static async getInitialProps({ Component, router, ctx }) {\n    let pageProps = {};\n\n    if (Component.getInitialProps) {\n      pageProps = await Component.getInitialProps(ctx);\n    }\n\n    const [allData, postData] = await Promise.all([\n      BlogEngine(),\n      getPostData(router)\n    ]).catch(error =>\n      console.error(\"Error in _app.js getInitialProps()\", error)\n    );\n\n    const propsObj = Object.assign({}, { postData, allData, ...pageProps });\n\n    return { ...propsObj };\n  }\n\n  async componentDidMount() {\n    await checkForSW();\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const postData = await getPostData(this.props.router);\n    if (!prevState.postData || postData.name !== this.state.postData.name) {\n      this.setState({ postData });\n    }\n  }\n\n  handleToggleNavigation = () => {\n    this.setState({\n      navOpen: !this.state.navOpen\n    });\n  };\n\n  render() {\n    const { postData } = this.state;\n\n    const seoData = createSEOConfig(postData);\n    if (postData) {\n      const tagsString = postData.tags.join(\", \");\n      return (\n        <React.Fragment>\n          {/* (1) SEO  */}\n          <Head>\n            <meta name=\"keywords\" content={tagsString} />\n          </Head>\n          <NextSeo config={seoData} />\n\n          {/* (2) navigation */}\n          <Navigation\n            open={this.state.navOpen}\n            toggleNavigation={this.handleToggleNavigation}\n          />\n          <button\n            type=\"button\"\n            role=\"button\"\n            aria-label=\"open navigation\"\n            className=\"icon-button hamburger\"\n            onClick={this.handleToggleNavigation}\n          >\n            <FaBars size={20} />\n          </button>\n\n          {/* (3) page body */}\n          <React.Fragment>\n            {renderLayout(this.props, this.state)}\n          </React.Fragment>\n\n          {/* (4) footer */}\n          <Footer />\n\n          {/* (5) global and local styles */}\n          <style global jsx>\n            {globalStyles}\n          </style>\n          <style jsx>{`\n            .icon-button {\n              margin: 15px;\n            }\n          `}</style>\n        </React.Fragment>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}